<!DOCTYPE html>
<html>
<head>
    <title>{{ page.title }}</title>
{% include meta.html %}
    <link rel="stylesheet" type="text/css" href="/css/site.css" >
    {% if page.css %}<link rel="stylesheet" href="/css/{{ page.css }}.css" type="text/css"/>{% endif %}
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="{{ site.name }} - {{ site.description }}" href="atom.xml" >
    <script src="/js/jquery-2.2.3.min.js" type="text/javascript"></script>
    {% if page.math %}<script type="text/javascript" src="/js/katex.min.js"></script>
    <script type="text/javascript" src="/js/auto-render.min.js"></script>
    <link rel="stylesheet" href="/css/katex.min.css" type="text/css"/>{% endif %}
    {% if page.footnotes %}<link rel="stylesheet" href="/css/jquery.inline-footnotes.css" type="text/css"/>
    <script type="text/javascript" src="/js/jquery.inline-footnotes.js"></script>{% endif %}
</head>
<body>

<div class="outer">
  <div class="wrapper-masthead">
      <div class="container">
          <header class="masthead clearfix">
          <div class="site-info">
              <h1 class="site-name"><a href="/">{{ site.name }}</a>
              {% include triangle.html %}
              </h1>
              <p class="site-description" style="text-transform:lowercase">[{{ site.description }}]</p>
          </div>

          </header>
      </div>
  </div>

  <div id="main" role="main" class="container">
  {% if page.math %}
  <noscript><p class="noscript">Hey, it looks like you have Javascript disabled. There's math on this page that's supposed to be rendered by Javascript, so it might not make sense!</p></noscript>{% endif %}
      {{ content }}
  </div>  

  <div class="wrapper-footer">
      <div class="container">
          <footer class="footer">
            
          </footer>
      </div>
  </div>
</div>
{% if page.footnotes %}<script>
  $(document).ready(function() {
    $.inlineFootnotes({columnWidth: 1000});
  });
</script>{% endif %}
{% if page.math %}

<!-- hacks to easily use KateX instead of MathJax because it's smaller and doesn't reflow the page. Can't vouch for these really -->
<script>
function renderWithErrors(tex) {
  try { return katex.renderToString(tex); } catch (e) {
    return "<span class='texerror'>" + e.message + "</span>";
  }
};
$("script[type='math/tex']").replaceWith(
  function(){
    var tex = $(this).text()
      .replace("% <![CDATA[", "")
      .replace("%]]>", "");
    return "<span class=\"inline-equation\">" + 
           renderWithErrors(tex) +
           "</span>";
});
$("script[type='math/tex; mode=display']").replaceWith(
  function(){
    var tex = $(this).text()
      .replace("% <![CDATA[", "")
      .replace("%]]>", "");
    return "<div class=\"equation\">" + 
           renderWithErrors("\\displaystyle "+tex)+
           "</div>";
});</script>
{% endif %}
</body>
</html>

