---
layout: blog
title: "Further Meditation on Taylor Series"
math: true
aside: true
footnotes: true
---

I have spent a lot of time trying to think intuitively about calculus, Taylor series, divergent series, and things like that. Here are a couple things I realized at some point which I would like to have written down. (This is sort of a sequel to a much more elementary post [some years ago]({% post_url 2018-03-30-taylor-series %}). I know a lot more now, and have also apparently gotten a lot more verbose.) Maybe they are well-known to some people, or maybe not, but they were at least interesting to me.

<!--more-->

Don't expect anything even resembling rigor in here. I'm just poking around.

------

# 1. Taylor Series Five Ways

I know of at least Five ways to think about where Taylor series "come from". Consider the case of my favorite function $$\frac{1}{1-x}$$. The Taylor series around $$x=0$$ is

$$\frac{1}{1-x} = 1 + x + x^2 + x^3 + \ldots \tag{1}$$

For example, 

$$\frac{1}{1-\frac{1}{2}} = 1 + \frac{1}{2} + \frac{1}{4} \ldots = 2$$

This series has radius of convergence $$1$$ because there is a pole at $$x=1$$. After that point we can expand around $$\infty$$ instead, by using the formula but writing it in terms of $$1/x$$:

$$
\begin{aligned}
\frac{1}{1-x} &= -\frac{1}{x} \frac{1}{1 - \frac{1}{x}} \\
&= -\frac{1}{x} [1 + \frac{1}{x} + \frac{1}{x^2} + \ldots] \\
&= -\frac{1}{x} - \frac{1}{x^2} - \frac{1}{x^3} - \ldots
\end{aligned} \tag{2}
$$

I don't know how you describe the radius of convergence for this series---I suppose it's the 'disc' $$\| 1/x \| < 1$$, that is, $$x > 1$$. In any case it works for all the values that (1) doesn't work for, like $$x=2$$:

$$\frac{1}{1-2} = -\frac{1}{2} \frac{1}{1 - \frac{1}{2}} = -\frac{1}{2}[1 + \frac{1}{2} + \frac{1}{4} + \ldots] = -1$$

It is very interesting to contemplate the fact that plugging $$2$$ into the first series _sorta_ works: $$S(2) = 1 + 2 + 4 + 8 + \ldots$$ gives a series whose "sum", by any of the various [divergent series summation techniques](https://en.wikipedia.org/wiki/Divergent_series#Abel_summation), equals $$-1$$. After all it [appears to]({% post_url 2018-11-01-summations %}) obey $$S(2) - 2(S(2)) = 1$$. I gather this to mean that although the result is not a number, it still 'contains' the data $$-1$$ somehow, maybe in a form like $$-1 + O(\infty)$$? But that's not what this article is about, I just thought I would mention it because it's fun.

The general form of a Taylor series  is of course

$$
\begin{aligned}
f(x+a) &= f(x) + f'(x) a + f''(x) \frac{a^2}{2!} + f'''(x) \frac{a^3}{3!} + \ldots  \\
&= \sum_{k=0}^{\infty} f^{(k)}(x) \frac{a^k}{k!} \\
\end{aligned}
$$

If you want this to be around $$x=\infty$$, simply write $$y=1/x$$ and expand everything in terms of $$y$$ instead.

Here are several ways of thinking about where the Taylor series formulas (1) and (2) "come from". Probably there is some insight to be gleaned from the fact that they are all equivalent.

### Way 1: Repeated integration

The most elementary way is to repeatedly apply the fundamental theorem of calculus. Assuming $$f(x)$$ has all of its derivatives and things like that, we repeatedly expand and then factor out all the constant terms:

$$
\begin{aligned}
f(x+a) &= f(x) + \int_x^{x+a} f'(x_1) d x_1 \\
&= f(x) + \int_{x}^{x+a} f'(x) + [\int_x^{x_1+a} f''(x_2) \d x_2] x_1 \d x_1 \\
&= f(x) + \int_x^{x+a} f'(x) + [\int_x^{x_1 + a} [f''(x) + \int_{x}^{x+a} f'''(x_3) \d x_3] \d x_2] x_1 \d x_1 \\
&= \text{(etc...)} \\
&= f(x) + \int f'(x) dx_1 + \int \int f''(x) dx_2 dx_1 + \int \int \int f'''(x) dx_3 dx_2 dx_1 + \ldots \\
&= f(x) + f'(x) a + f''(x) \frac{a^2}{2} + f'''(x) \frac{a^3}{3!} + \ldots
\end{aligned}
$$

Easy enough.

### Way 2: Exponentiation of a derivative

Since $$f(x + dx) \approx f(x) + f'(x) dx$$, we can interpret $$(I + dx \p_x)$$ as an operator $$T_{dx}$$ which translates $$f(x) \mapsto f(x+dx)$$:

$$T^{dx} = I + dx \p_x$$

To translate over some non-infinitesimal (finitesimal?) distance $$a$$ we then apply this repeatedly, up to $$a/dx$$ times, so that we will have translated by $$a$$ in total. When we take the limit as $$dx \ra 0$$ this becomes exactly the construction of the exponential function:

$$
\begin{aligned}
\lim_{dx \ra 0} [T^{dx}]^{a/dx} f(x)  
&= \lim_{dx \ra 0} [I + dx \p_x]^{a/dx} f(x) \\
&= [\lim_{dx \ra 0} [I + dx \p_x]^{1/dx}]^a f(x) \\ 
f(x+a) &= e^{a \p_x} f(x) \\
&= [1 + a \p_x + \frac{(a \p_x)^2}{2!} + \frac{(a \p_x)^3}{3!} + \ldots] f(x)
\end{aligned}
$$

Now you might call that circular because we end up using the Taylor series for $$\exp$$ to produce the general form. But, we can also come up with the series from a simple combinatoric argument (well, it's simple to follow, but sketchy because it's not clear that it's valid in the limit):

Suppose that the product $$(1 + \e x)^{1/\e}$$ has an integer number of terms (so we're assuming $$\e = n$$ an integer). Then the binomial theorem gives

$$
\begin{aligned}
(1 + \e x )^n &= \sum_{k=0}^n (\e x )^k 1^{n-k} \\
&= \binom{n}{0} 1 + \binom{n}{1} (\e x ) + \binom{n}{2} (\e x )^2 + \binom{n}{3} (\e x )^3 + \ldots \\
&= 1 + \frac{n!}{(n-1)!} (\e x x) + \frac{n!}{(n-2)! 2!} (\e x )^2 + \frac{n!}{(n-3)! 3!} (\e x )^3\ldots \\
&= 1 + n \e x + \frac{n(n-1)}{2!} (\e x )^2 + \frac{n(n-1)(n-2)}{3!} (\e x)^3 \ldots \\
&\approx 1 + x + \frac{a^2}{2!} x^2 + \ldots
\end{aligned}
$$

So there is an approximation going on: we end up collapsing terms like $$n(n-1) \e^2 = (n \e)^2 [1 - \frac{1}{n}]$$ to just $$(n\e)^2 = 1$$. Conceptually, in the giant product

$$(1 + \e x)^n = (1 + \e x)(1 + \e x)(1 + \e x)(1 + \e x)\cdots$$

The linear term consists of $$n$$ ways of having one factor of $$\e x$$, the quadratic term consists of all $$\binom{n}{2} = n(n-1)/2!$$ ways of having two factors of $$\e x$$, etc. As $$n\ra \infty$$ these are dominated by their highest-order term $$n^k/k!$$, which is where the terms in the Taylor series come from. ( guess this is obvious when you think about it but I remember not realizing it for a long time.)

This perspective treats $$\p_x$$ as a [generator]((https://en.wikipedia.org/wiki/Lie_algebra)) in the sense of groups, specifically Lie algebras. It 'generates' translation in the $$x$$ coordinate, according to

$$e^{a \p_x} f(x) = f(x+a)$$

A Taylor series in any other variable can be produced by writing $$f(x) = f(g^{-1}(g(x)))$$; then 

$$e^{a \p_{g(x)}} f(x) = f(g^{-1}(g(x) + a))$$

For example,

$$ e^{a x \p_x} f(x) = e^{a \p_{\, \ln x}} f(e^{\ln x}) = f(e^{\ln x + a}) = f(ax)$$

See the Wiki on [shift operators](https://en.wikipedia.org/wiki/Shift_operator) for more.[^qm]

[^qm]: This sense of generators comes up a lot in [quantum mechanics](https://en.wikipedia.org/wiki/Translation_operator_(quantum_mechanics)), which calls operators such as the energy operator $$\hat{E} = i \hbar \p_t$$ generators of translation. These are almost the same idea except for the extraneous $$i$$ and $$\hbar$$ factors; when plugged into $$e^{-i/\hbar \hat{E} t} = e^{t \p_t}$$ they become the same thing. The idea is that a quantum systems' evolution in time can be implemented by $$e^{-i/\hbar \hat{E} \Delta t} \ket{x, t} = \ket{x, t+ \Delta t}$$. The SchrÃ¶dinger equation then [says]({% post_url 2020-07-24-qm %}) that time and space evolution are coupled by $$E^2 = m^2c^4 + p^2 c^2$$.

### Way 3: direct combinatorics

This is related to the previous argument, but somewhat suggestive in a different direction.

For mysterious but significant reasons it is mathematically valid to apply the binomial theorem for fractional or negative exponents. Every term in $$(a+b)^n$$ still looks like $$\binom{n}{k} a^k b^{n-k}$$, but the rule is that extend the sum to infinity instead of stopping at $$k=n$$. In fact there is no need to think of it as a rule: since $$\binom{n}{k} = \frac{n!}{k! (n-k)!}$$, we simply observe that if $$n$$ is negative or fractional, then it is no longer the case that $$\binom{n}{k} = 0$$ for $$k > n$$. This requires doing some dubious things with "negative" factorials", but they... seem to work?

$$
\begin{aligned}
\binom{-1}{k} &= \frac{(-1)!}{k!(-1 - k)!} \\
&= \frac{(-1) (-2) (-3) \times \ldots \times (-k) \cancel{(-1-k)!}}{k! \times \cancel{(-1-k)!}} \\
&= \frac{k! (-1)^k}{k!} \\
&= (-1)^k \\
\end{aligned}
$$

So this gives, for $$1/(1-x)$$:

$$
\begin{aligned}
(1-x)^{-1} &= \sum_{k=0}^{\infty} \binom{-1}{k} 1^k (-x)^{-1 - k} \\
&= - \sum_k (-1)^k (-1)^k x^{-1-k} \\
&= -\frac{1}{x} [1 + \frac{1}{x} + \frac{1}{x^2} + \frac{1}{x^3} + \ldots]
\end{aligned}
$$

Well, that's the Taylor series around $$x=\infty$$. Strangely, if you swap the roles of the two variables in the summation, you get the series around $$x=0$$ instead:

$$
\begin{aligned}
(1-x)^{-1} &= \sum_{k=0}^{\infty} \binom{-1}{k} (-x)^k 1^{-1-k} \\ 
&= \sum (-1)^k (-1)^k x^k \\
&= 1 + x + x^2 + x^3 + \ldots 
\end{aligned}
$$

This I find very mysterious. More generally, there are two series for $$(x+y)^{-1}$$ depending on whether you divide through by $$x$$ or $$y$$ first:

$$
\begin{aligned}
\frac{1}{x+y} &=\frac{1}{x} (1 + \frac{y}{x})^{-1} = x^{-1} - y x^{-2} + y^2 x^{-3} - y^3 x^{-4} + \ldots \\
&= \frac{1}{y} (1 + \frac{x}{y})^{-1} = y^{-1} - x y^{-2} + x^2 y^{-3} - x^3 y^{-4} + \ldots 
\end{aligned}
$$

Observe that when you multiply one of these series by $$(x+y)$$ it does indeed give $$1$$:

$$
\begin{aligned}
(x+y)(x+y)^{-1} &= (x+y) (x^{-1} - y x^{-2} + y^2 x^{-3} - y^3 x^{-4} + \ldots) \\
&= (x+y) x^{-1} - (x+y) yx^{-2} + (x+y) y^2 x^{-3} - (x+y) y^3 x^{-4} + \ldots \\
&= (1 + \cancel{y x^{-1}}) - (\cancel{x y^{-1}} + \cancel{y^2 x^{-2}}) + (\cancel{x^{-2} y^2} - \cancel{y^3 x^{-3}}) + \ldots \\
&= 1
\end{aligned}
$$

And likewise for the other (as it must, by symmetry). Interestingly you can also use linear combinations of both solutions. If we write $$S_1 = x^{-1} - y x^{-2} + y^2 x^{-3} - \ldots$$ and $$S_2 = y^{-1} - x y^{-2} + x^2 y^{-3} + \ldots$$ then 

$$(x+y) (\lambda S_1 + (1-\lambda) S_2) = 1$$

for any $$\lambda$$ (technically this is not allowed because both are not going to converge at the same time, but let's ignore that).


It's intriguing that the series you can get from these expansions are the same choices as the Taylor series that you get as you vary the point you're expanding around. Whatever mysterious meaning underlies these "unnatural combinatorics" (unnatural in the sense that... well... the exponents are fractions or negative, so not $$\in \bb{N}$$...), it is the _same_ mystery as to why Taylor series break at poles (and then sorta keep working anyway if you squint).

By the way, the same sort of thing happens for series like $$(x+y)^{1/2}$$ and any other non-natural exponent. And if you feel like splitting a product up into pieces

$$(x+y) = (x+y)^{3/2} (x+y)^{-1/2}$$

You will find that the two series perfectly cancel out however you do it and whichever variable you expand in, even if the series don't converge. So I am inclined to believe, just for elegances' sake, that all of these series are really valid at all inputs, and that it is really the notion of "convergence", or maybe just the notion of "addition", which is not useful so useful for understanding them.[^stirling]

[^stirling]: Miscellaneous breadcrumb: in Donald's Knuth's [Two Notes on Notation](https://arxiv.org/pdf/math/9205211) he discusses the fact that the two kinds of Stirling numbers (...'of the first kind' and 'of the second kind') are really the same kind, if you allow their domains to extend into negatives despite that not making a lot of sense for their combinatoric interpretation. In the same way it is clear that factorials and binomial coefficients also have some validity in the negatives. I expect that the Stirling numbers can also be happily interpolated into fractions or imaginary numbers as well, just like the factorials can. It seems likely to be case that all of these continuations are instances of the same general construction, a single way of thinking about combinatorics on negative and fractional sets that is shows up all over math.


### Way 4: Long Division

Another way of producing the combinatoric series is polynomial long division. To compute divide $$g(x)$$ by $$f(x)$$ we repeatedly compute $$g_i(x) = f(x) q_i(x) + r_i(x)$$, setting $$g_{i+1} = r_i$$ on each step. Consider calculating $$1/(1-x)$$, that is, $$g(x) = 1$$ and $$f(x) = 1-x$$.

1. First we have $$1 = 1(1-x) + x$$, so $$q_0 = 1$$ and $$r(x) = x$$.
2. Next $$x = x(1-x) + x^2$$, so $$q_1 = x$$ and $$r_1 = x^2$$.
3. Next $$x^2 = x^2(1-x) + x^3$$, so $$q_2 = x^2$$ and $$r_2 = x^3$$.

Etc. Clearly we get the series $$1 + x + x^2 + \ldots$$. This corresponds to the calculation

$$
\begin{aligned}
S &= \frac{1}{1-x} \\ 
1 &= (1-x) S \\
S &= 1 + x S \\
&= 1 + x (1+ xS) \\
&= 1 + x (1 + x(1+xS)) \ldots \\
&= 1 + x + x^2 + x^3 + \ldots
\end{aligned}
$$

Of course, whichever way we write it, we have the option of doing the division in the other other. We can write $$1 = (-\frac{1}{x})(1-x) + \frac{1}{x}$$, $$-\frac{1}{x} = \frac{1}{x^2} (1-x) - \frac{1}{x^2}$$, etc, and then that gives us the Taylor expansion around infinity. So yet another way of coming up with these infinite combinatoric series, or the Taylor series form, is committing to a non-terminating long-division. Or just substituting the function into itself repeatedly. They're all the same thing.

------

### Way 5: Orthonormal bases


A standard operation in linear algebra is to project a vector onto an orthornomal basis, as in $$\b{v} = v_x \b{x} + v_y \b{y} + v_z \b{z}$$. The same basically works for functions, although a lot more analytic details are involved in talking about when it's possible. Usually it's something like (and this is an extreme gloss): your function has to be an element of a [Hilbert space](https://en.wikipedia.org/wiki/Hilbert_space) (which means that it's an infinite-dimensional inner-product space which is closed under limits of sequences). When the construction is valid you end up with a construction that looks like

$$f(x) = \sum_k \<f, \phi_k\> \phi_k(x)$$

for some family of functions $$\{ \phi_k \}$$. which has $$\< \phi_i, \phi_j \> = 1_{i=j}$$. Usually the inner product $$\< f, g \>$$ looks like, well, an infinite-dimensional dot product---that is, an integral over some domain $$\int_X \overline{f(x)} g(x) \d x$$. The overline indicates complex conjugation, which is invariably involved whenever the functions are allowed to be complex (more generally it means to dualize $$\phi_k$$, that is, replace it with a dual basis vector $$\phi^k$$. This happens to be complex conjugation in the normal cases). 

Standard examples (which are more-or-less equivalent to each other if you gloss over all the analysis) include:

* The Fourier transform, with $$\phi_k = e^{ikx}$$, writes $$f(x) = \int_{\bb{R}} f_k e^{ikx} dx$$
* The Laplace Transform, with $$\phi_k = e^{st}$$, writes $$f(x) = \int_{i\bb{R}} f_k e^{kt} ds$$ (ish)
* The Cauchy Integral Formula, with $$\phi_k = z$$, writes $$f(z) = \sum_{k \in \bb{Z}} f_k z^k$$, giving the Laurent series for $$f(z)$$ which is basically the Taylor series.

We could certainly say that (for analytic $$f$$) that the Taylor series terms are all given by the Cauchy integral formula

$$f^{(n)}(0) = \frac{n!}{2\pi i} \oint \frac{f(z)}{z^{n+1}} dz$$

Which after a change of variables to $$z = r e^{i \theta}$$ becomes 

$$
\begin{aligned}
f^{(n)}(0) &= \frac{n!}{2\pi i} \oint \frac{f(z)}{(re^{i \theta})^{n+1}} (\cancel{dr e^{i\theta}} + i r e^{i \theta} d \theta) \\
&=\frac{n!}{2\pi} \oint \frac{f(z)}{(re^{i\theta})^n} d\theta
\end{aligned}
$$

When $$f(z) = z^m$$ this cancels out unless $$m-n = 0$$, in which case it gives $$2\pi$$, which is why it extracts the $$f^{(m)}(0)$$ term from $$f(z)$$ when it has a Laurent series. This constuction essentially takes the Fourier transform of $$f(r e^{i \theta})$$. In this sense the Taylor series is a sort of projection onto the orthonormal basis given by $$z^n$$.

I happen to disprefer anything that resorts to complex analysis. If we wanted a strictly real-variable version of the same sort of projection, we would want to treat $$\phi_k = \frac{x^k}{k!}$$ as a basis, and come up with some sort of dual basis $$\phi^j$$, such that $$\< \phi_k, \phi_j \> = \int \phi^j \phi_k dx = 1_{1=j}$$. The obvious thing to try is just the inverse, $$\phi^j = \frac{j!}{x^j}$$, but it doesn't work

$$
\begin{aligned}
\< \phi_j, \phi_k \> &= \int_{\bb{R}} \phi^j \phi_k dx \\
&= \int \frac{j!}{x^j} \frac{x^k}{k!} \d x \\
&= \int \frac{j!}{k!} x^{k-j} \d x\\
&\? \begin{cases} 
0 & k > j \\ 
1 & k = j \\
\text{???} & k<j 
\end{cases}
\end{aligned}
$$

So, not quite. What does work, although it feels like cheating, is using derivatives of delta functions,

$$\phi^j(x) = (-\p_x)^j \delta(x)$$

Since 

$$\< \phi_j , \phi_k \> =\int  (-\p_x)^j \delta(x) \frac{x^k}{k!} dx = \int \delta(x) (\p_x)^j \frac{x^k}{k!} \d x = 1_{j=k}$$

This is a bit odd. And yeah, it might be cheating: what this really is a way of writing a "function" which is actually a derivative operator: the inner product $$\< \phi_j, \phi_k \>$$ with this definition just ends up computing $$\p_x^j \phi_k \|_{x=0}$$, which is exactly the definition of a Taylor series we already knew.

An interesting modification comes from using the (somewhat-dubious) translation of a delta derivative into a polynomial, based on the idea that $$\int (\delta(x)/x) f(x) \d x = \int \delta(x) f'(x) \d x $$ if $$f(x)$$ does not have a constant term:[^delta]

[^delta]: "if $$f(x)$$ does not have a constant term" is doing a lot of work here; I wrote about some objections to this [here]({% post_url 2023-10-14-delta-fns %}). The construction is common, though. Maybe there's a principal-value-type justification for it even in cases where it doesn't literally apply? Regardless if this works, though, the derivative version definitely does.

$$\phi^j(x) \? (-\p_x)^j \delta(x) = \frac{j!}{x^j} \delta(x)$$

I'm not sure whether it's better to think of the inner product as containing the delta function (such that $$\phi^j = 1/\phi_j$$), or whether it should be part of the dual basis itself. In any case, it seems to work, and it lets us regard the Taylor series (in fact the whole Laurent series) as a projection onto a basis like any other vector:

$$f(x) = \sum \< \phi_k, f \> \phi_k = f(0) + f'(0) x + f''(0) \frac{x^2}{2!} + \ldots$$

Presumably this construction is essentially the same as the Cauchy integral construction, since evaluating at a delta function is a lot like integrating out around an infinitesimal contour. But I thought it was cute this way.

-----

So those are all the ways I know of to invent Taylor series. Some of them are not that interesting. Probably none of them are novel, although my perspectives are at least a bit unorthodox. I just like to see them all laid out side-by-side, since I am looking for, among other things, some elegant logic behind the fractional calculus and fractional combinatorics in general. Basically everything seems connected somehow in a way that I am not aware of math describing, and there are clues everywhere.

I have one other thing I want to talk about which feels closely related to all of the above, which is the mysteriously blurriness of the distinction between integrals and infinite series in general.

------------

# 2. Integration as an Infinite Series

(This section rehashes something I talked about in [More on $$\sqrt{\pi}$$]({% post_url 2025-10-28-sqrt-pi %}) because it's relevant here also. I first learned of this from [this pdf](https://www.reed.edu/physics/faculty/wheeler/documents/Miscellaneous%20Math/Fractional%20Calculus/A.%20Fractional%20Calculus.pdf) by Nicholas Wheeler.)

Earlier we talked about the translation-by-$$dx$$ operator $$T^{dx} = 1 + dx \p_x$$, which has $$(T^{dx}) f(x) = f(x+dx)$$. Flipping this around we can write

$$\p_x = \frac{T^{dx} - 1}{dx}$$

Which is in the limit just the usual form of the derivative $$\lim_{dx \ra 0} [f(x+dx) - f(x)]/dx$$.

A fun thing to do is to expand _this_ to the $$-1$$ power and see if it works like an integral. After all an integral is the more-or-less the inverse of a derivative operator, right?

$$
\begin{aligned}
\p_x^{-1} &= [\frac{T^{dx} - 1}{dx}]^{-1} \\
&= -dx \frac{1}{1-T^{dx}}\\
&\? -dx (1 + T^{dx} + T^{2 dx} + T^{3 dx} + \ldots) \\
\end{aligned}
$$

In fact that looks very much like a Riemann integral. Acting on a function it seems to give

$$
\begin{aligned}
\p_x^{-1} f(x) &= -dx [f(x) + f(x+dx) + f(x+2 \d x) + \ldots] \\
&\? - \int_{x}^{\infty} f(x') \d x'
\end{aligned}
$$

However the negative sign seems odd, and the fact that we didn't get to choose an integration bound seems like a problem as well.

The integration bound problem is easy to solve, actually. In the expression $$\p_x^{-1} = -dx (1 + T^{dx} + T^{2 dx} + \ldots)$$ there are really two limits being implied at once: the limit as $$dx \ra 0$$ and the limit of the number of terms $$N$$ as the series is extended to infinity. By writing them out explicitly we can couple how the limits are taken together. In particular if we want to limit the integral to a distance $$a$$, then we need for the final term in the sum to correspond to $$T^{(N-1) dx} = T^{a - dx}$$. Is this reasonable to do? I dunno: normally one does not get to pick a "stopping" point for their infinite series. But let's try it and see what happens.[^dx]

[^dx]: The $$-dx$$ is in order to exactly match the partitions you would get in an integral over $$(x, x+a)$$; probably it's not that important though. Also when I negate the orientation on the integral here, I guess maybe it's switching which from a left Riemann integral to a right one (except backwards, because the partitions are the same?) I dunno, I'm confused about that, so I'm gonna pretend like I'm sure it doesn't matter in the limit.

$$
\begin{aligned}
\p_x^{-1} f(x) &= \lim_{dx \ra 0} (- dx )[\sum_{k=0}^{a/dx - 1} T^{k \d x}] f(x)  \\
&= - \int_{x}^{x+a} f(x') \d x'  \\
&= \int_{x+a}^x f(x') \d x'
\end{aligned}
$$


We get a different result if we Taylor expand $$\p_x^{-1}$$ around $$T^{-dx}$$, which is the equivalent of expanding around $$x=\infty$$ earlier except now the object is an operator so it's really not that weird. (Well... okay, it's still kinda weird, because I'm pretending like I can divide by it like a variable. sorry.)

$$
\begin{aligned}
(\p_x^{-1}) f(x) &= dx \frac{1}{T^{dx} - 1} \\
&= dx \frac{1}{T^{dx}} \frac{1}{1 - T^{-dx}} f(x) \\
&\? dx T^{-dx} [1 + T^{-dx} + T^{-2dx} + \ldots + T^{-(a-1)d x}] f(x) \\
&= dx [T^{-dx} + T^{-2 dx} + T^{-3 dx} + \ldots + T^{-a \, d x}] f(x) \\
&= \int_{x-a}^x f(x') \d x' 
\end{aligned}
$$

So it seems like:

* different choices of how to take your Taylor-expand the operator and how to take the limits corresponds to different integration bounds
* but, the bounds always end at $$x$$.
* and the choice of whether to extend the integral to $$x+a$$ vs $$x-a$$ is probably equivalent to the choice of the specific bound $$a$$: it corresponds to taking the limit in a positive vs. negative direction, relative to the limit of $$dx$$.

Basically there is only one operation here, not two.

If the above holds, so if this dubious logic has produced a true "inverse" of $$\p_x^{-1}$$, then it should be the case that it acts like an inverse in the same dubious logic. At first it looks like it doesn't:


$$
\begin{aligned}
\p_x \circ \p_x^{-1} &= \frac{ T^{dx} - 1 }{dx} [-(dx)(1 + T^{dx} + T^{2 dx} + \ldots + T^{(N-1)dx})] \\
&= (T^{dx}-1)(1 + T^{dx} + T^{2 dx} + T^{3 dx} + \ldots + T^{(N-1)dx}) \\
&= 1 - T^{N \d x} \\
[\p_x \circ \p_x^{-1}] f(x) &= [1 - T^{N \d x}]f(x) =  f(x) - f(x+a)
\end{aligned}
$$

But this does work. The integral $$\int_{x+a}^x f(x') dx'$$ has its $$x$$ dependence in both integration bounds, and according to the [Leibniz integral rule](https://en.wikipedia.org/wiki/Leibniz_integral_rule):

$$\p_x \int_{a(x)}^{b(x)} f(x) \d x = f(b(x)) b'(x) - f(a(x)) a'(x)$$

Which in this case is just $$f(x) - f(x+a)$$.

If you want to recover $$\p_x \p_x^{-1} = 1$$, you need for the upper limit of the integral $$\int_x^{x+a}$$ to somehow _not_ depend on $$x$$ at all. One way is for it to freely go to infinity. Then if $$f(\infty) \ra 0$$, the terms at infinity are all going to be negligible and there will be no term there. If the limit is not zero, something weirder is necessary. I suppose one option is to define $$N$$ such that $$x + a$$ is no longer a function of $$x$$, by setting $$N = (a-x)/dx$$. But that seems questionable!

What about if we Taylor expand $$\p_x^{-1}$$ around a point besides those two? The function $$\frac{1}{1-x}$$ can be expanded around $$x=k$$ via 

$$\frac{1}{1-x} = \frac{1}{1-k} \frac{1}{1-\frac{x-k}{1-k}} = \frac{1}{1-k}[1 +(\frac{x-k}{1-k}) + (\frac{x-k}{1-k})^2 + \ldots]$$

For instance around $$x=2$$ it's $$-[1 - (x-2) + (x-2)^2 - (x-2)^3 + \ldots]$$. If we plug $$T^{dx}$$ into that we get something that does not seem especially useable as an integral: $$\p_x^{-1} \? -dx [1 - (T^{dx}-2) + (T^{dx}-2)^2 - \ldots]$$ Maybe it corresponds to integrating $$f(x)$$ in a diferent variable, or something like that? But I doubt it. More likely this manipulation is invalid. After all the $$1$$ in the equation is really acting like $$T^{0 dx} = I$$, the identity translation operator on functions; maybe no actual 'numbers' appear anywhere; perhaps we have to consistently treat these as manipulations of operators, not numbers. In that case we should really be expanding around a different translation operator, like 

$$
\begin{aligned}
\frac{dx}{1 - T^{dx}} &= \frac{dx}{1 - T^{2 d x}}[1 + (\frac{T^{dx} - T^{2 dx}}{1 - T^{2 dx}}) - (\frac{T^{dx} - T^{2 dx}}{1 - T^{2 dx}})^2 + \ldots] \\
\end{aligned}
$$

That seems more correct, but I'm not sure how to interpret it. A guess: assuming $$\frac{dx}{1-T^{2 dx}} \equiv \int_x^{x+2a} dx$$, perhaps something like an infinite series of (commutable?) operators

$$\frac{dx}{1 - T^{dx}} = [\int_x^{x+2a} dx] [1 + (\int_x^{x+2a} dx) \p_{-x} T^{dx} + (\int_x^{x+2a} dx)^2 \p_{-x}^2 T^{2 dx} + \ldots]$$

I did notice, however, that this pretty much corresponds exactly to the series in $$x$$ under a Fourier transform. Under the mapping $$T^{dx} \mapsto e^{ik \,dx} \approx 1 + ik \d x$$, the numerator terms $$T^{dx} - T^{2 \d x} \mapsto (1 + i k \d x) - (1 + 2 \i k dx) = -ik \d x$$ and the denominators become $$1 - T^{2 \d x} \mapsto 1 - (1 + 2 i k \d x) = -2 i k \d x$$, so in fact this is a Taylor expansion in Fourier space (up to, I'm sure, some principal values or something that are necessary to interpret it literally):

$$\F[\frac{dx}{1 - T^{dx}}] = \frac{1}{-2 ik x} [ 1 + \frac{-ik dx}{-2 i k dx} + (\frac{-ik dx}{-2 i k dx})^2 + \ldots] = \frac{1}{- ik x}$$

I suppose that's not too surprising: infinite series of literal variables in Fourier space correspond to infinite series of integral and derivative operators in position space. Everything is the same. (Notably, though, this interpretation suggests that everything is analogous to manipulations in fractional and divergent combinatorics, _and_, everything commutes when you write it out this way.)

I'll mention in passing that all of the above also gives one of the versions (among many) of the [fractional calculus](https://en.wikipedia.org/wiki/Fractional_calculus) when you allow yourself to do fractional combinatorics. For instance Taylor-expanding $$\p_x^{1/2}$$ gives a working version of a half-derivative that has $$[(\p_x)^{1/2}]^{\circ 2} = \p_x$$. Good luck figuring out what it means, though.

-----
